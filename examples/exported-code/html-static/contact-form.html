<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form - HubLab Export</title>
    <meta name="description" content="Production-ready contact form with validation and error handling">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Custom animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .slide-down {
            animation: slideDown 0.3s ease-out;
        }

        .shake {
            animation: shake 0.5s;
        }

        .input-error {
            border-color: #ef4444;
        }

        .input-success {
            border-color: #10b981;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-2xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">Get In Touch</h1>
            <p class="text-lg text-gray-600">We'd love to hear from you. Send us a message!</p>
        </div>

        <!-- Contact Form Card -->
        <div class="bg-white rounded-2xl shadow-xl p-8 md:p-10">
            <form id="contactForm" class="space-y-6" novalidate>

                <!-- Name Field -->
                <div>
                    <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
                        Full Name *
                    </label>
                    <input
                        type="text"
                        id="name"
                        name="name"
                        required
                        placeholder="John Doe"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    >
                    <p class="error-message text-red-500 text-sm mt-1 hidden"></p>
                </div>

                <!-- Email Field -->
                <div>
                    <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">
                        Email Address *
                    </label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        required
                        placeholder="john@example.com"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    >
                    <p class="error-message text-red-500 text-sm mt-1 hidden"></p>
                </div>

                <!-- Phone Field (Optional) -->
                <div>
                    <label for="phone" class="block text-sm font-semibold text-gray-700 mb-2">
                        Phone Number
                        <span class="text-gray-400 font-normal">(Optional)</span>
                    </label>
                    <input
                        type="tel"
                        id="phone"
                        name="phone"
                        placeholder="+1 (555) 123-4567"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    >
                    <p class="error-message text-red-500 text-sm mt-1 hidden"></p>
                </div>

                <!-- Subject Field -->
                <div>
                    <label for="subject" class="block text-sm font-semibold text-gray-700 mb-2">
                        Subject *
                    </label>
                    <select
                        id="subject"
                        name="subject"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    >
                        <option value="">Select a subject...</option>
                        <option value="general">General Inquiry</option>
                        <option value="support">Technical Support</option>
                        <option value="sales">Sales Question</option>
                        <option value="feedback">Feedback</option>
                        <option value="partnership">Partnership Opportunity</option>
                        <option value="other">Other</option>
                    </select>
                    <p class="error-message text-red-500 text-sm mt-1 hidden"></p>
                </div>

                <!-- Message Field -->
                <div>
                    <label for="message" class="block text-sm font-semibold text-gray-700 mb-2">
                        Message *
                    </label>
                    <textarea
                        id="message"
                        name="message"
                        required
                        rows="5"
                        placeholder="Tell us more about your inquiry..."
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition resize-none"
                    ></textarea>
                    <p class="error-message text-red-500 text-sm mt-1 hidden"></p>
                    <p class="text-sm text-gray-500 mt-1">
                        <span id="charCount">0</span> / 500 characters
                    </p>
                </div>

                <!-- Newsletter Checkbox -->
                <div class="flex items-start">
                    <input
                        type="checkbox"
                        id="newsletter"
                        name="newsletter"
                        class="mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                    >
                    <label for="newsletter" class="ml-3 text-sm text-gray-700">
                        I'd like to receive updates and newsletters about HubLab
                    </label>
                </div>

                <!-- Submit Button -->
                <div>
                    <button
                        type="submit"
                        id="submitBtn"
                        class="w-full bg-blue-600 text-white font-semibold py-4 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        <span id="btnText">Send Message</span>
                        <span id="btnSpinner" class="hidden">
                            <svg class="animate-spin inline-block h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            Sending...
                        </span>
                    </button>
                </div>

            </form>

            <!-- Success/Error Message -->
            <div id="alertBox" class="hidden mt-6 p-4 rounded-lg slide-down"></div>
        </div>

        <!-- Contact Info -->
        <div class="mt-8 text-center">
            <p class="text-gray-600 mb-4">Or reach us directly:</p>
            <div class="flex flex-wrap justify-center gap-6">
                <a href="mailto:hello@hublab.dev" class="flex items-center gap-2 text-blue-600 hover:text-blue-700 transition">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                    </svg>
                    hello@hublab.dev
                </a>
                <a href="tel:+15551234567" class="flex items-center gap-2 text-blue-600 hover:text-blue-700 transition">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                    </svg>
                    +1 (555) 123-4567
                </a>
            </div>
        </div>
    </div>

    <script>
        // Form validation and submission
        const form = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const btnText = document.getElementById('btnText');
        const btnSpinner = document.getElementById('btnSpinner');
        const alertBox = document.getElementById('alertBox');
        const messageField = document.getElementById('message');
        const charCount = document.getElementById('charCount');

        // Character counter for message field
        messageField.addEventListener('input', function() {
            const length = this.value.length;
            charCount.textContent = length;

            if (length > 500) {
                this.value = this.value.substring(0, 500);
                charCount.textContent = 500;
            }
        });

        // Validation functions
        const validators = {
            name: (value) => {
                if (!value.trim()) return 'Name is required';
                if (value.trim().length < 2) return 'Name must be at least 2 characters';
                if (!/^[a-zA-Z\s]+$/.test(value)) return 'Name can only contain letters and spaces';
                return null;
            },
            email: (value) => {
                if (!value.trim()) return 'Email is required';
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) return 'Please enter a valid email address';
                return null;
            },
            phone: (value) => {
                if (!value.trim()) return null; // Optional field
                const phoneRegex = /^[\d\s\-\+\(\)]+$/;
                if (!phoneRegex.test(value)) return 'Please enter a valid phone number';
                if (value.replace(/\D/g, '').length < 10) return 'Phone number must be at least 10 digits';
                return null;
            },
            subject: (value) => {
                if (!value) return 'Please select a subject';
                return null;
            },
            message: (value) => {
                if (!value.trim()) return 'Message is required';
                if (value.trim().length < 10) return 'Message must be at least 10 characters';
                if (value.length > 500) return 'Message cannot exceed 500 characters';
                return null;
            }
        };

        // Show error message for a field
        function showError(fieldName, message) {
            const field = document.getElementById(fieldName);
            const errorMsg = field.parentElement.querySelector('.error-message');

            field.classList.add('input-error', 'shake');
            field.classList.remove('input-success');
            errorMsg.textContent = message;
            errorMsg.classList.remove('hidden');

            setTimeout(() => field.classList.remove('shake'), 500);
        }

        // Clear error message for a field
        function clearError(fieldName) {
            const field = document.getElementById(fieldName);
            const errorMsg = field.parentElement.querySelector('.error-message');

            field.classList.remove('input-error');
            field.classList.add('input-success');
            errorMsg.classList.add('hidden');
        }

        // Validate single field
        function validateField(fieldName) {
            const field = document.getElementById(fieldName);
            const value = field.value;
            const error = validators[fieldName](value);

            if (error) {
                showError(fieldName, error);
                return false;
            } else {
                clearError(fieldName);
                return true;
            }
        }

        // Add real-time validation
        ['name', 'email', 'phone', 'subject', 'message'].forEach(fieldName => {
            const field = document.getElementById(fieldName);
            field.addEventListener('blur', () => validateField(fieldName));
        });

        // Show alert message
        function showAlert(message, type) {
            alertBox.textContent = message;
            alertBox.className = `mt-6 p-4 rounded-lg slide-down ${
                type === 'success'
                    ? 'bg-green-100 text-green-800 border border-green-200'
                    : 'bg-red-100 text-red-800 border border-red-200'
            }`;
            alertBox.classList.remove('hidden');

            setTimeout(() => {
                alertBox.classList.add('hidden');
            }, 5000);
        }

        // Form submission
        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            // Validate all fields
            const fields = ['name', 'email', 'phone', 'subject', 'message'];
            let isValid = true;

            fields.forEach(fieldName => {
                if (!validateField(fieldName)) {
                    isValid = false;
                }
            });

            if (!isValid) {
                showAlert('Please fix the errors above before submitting', 'error');
                return;
            }

            // Disable button and show loading state
            submitBtn.disabled = true;
            btnText.classList.add('hidden');
            btnSpinner.classList.remove('hidden');

            // Collect form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value,
                newsletter: document.getElementById('newsletter').checked,
                timestamp: new Date().toISOString()
            };

            try {
                // Simulate API call (replace with your actual endpoint)
                await new Promise(resolve => setTimeout(resolve, 1500));

                // In production, replace with actual API call:
                // const response = await fetch('/api/contact', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify(formData)
                // });
                //
                // if (!response.ok) throw new Error('Failed to send message');

                console.log('Form submitted:', formData);

                // Success
                showAlert('Thank you! Your message has been sent successfully. We\'ll get back to you soon.', 'success');
                form.reset();
                charCount.textContent = '0';

                // Clear success styling from fields
                fields.forEach(fieldName => {
                    const field = document.getElementById(fieldName);
                    field.classList.remove('input-success');
                });

            } catch (error) {
                console.error('Submission error:', error);
                showAlert('Oops! Something went wrong. Please try again later.', 'error');
            } finally {
                // Re-enable button
                submitBtn.disabled = false;
                btnText.classList.remove('hidden');
                btnSpinner.classList.add('hidden');
            }
        });
    </script>

</body>
</html>
